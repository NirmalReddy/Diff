<html>
<head>
<title>
Diff
</title>
<link href="style.css" rel="stylesheet" type="text/css">
<script  src="script.js" type="application/javascript"></script>
</head>

<body>
<div id="main_div" align="center" class="content">
<div id="files_div">

	<div id="file1_div">
		<h2>File1.java</h2>
		<textarea id="file1.div" wrap="off"  ></textarea><br />
		<input type="file" id="fileinput1"  />
	</div>
	
	<div id="file2_div">
		<h2>File2.java</h2>
		<textarea  id="file2.div" wrap="off" ></textarea><br />
		<input type="file" id="fileinput2"  />
	</div>
	
	
	<br />
	<br /><br />
	<button type="button" onclick="ajaxFunc()"> Diff </button>  
	<p id="output">
	</p>
	
	
	
</div>
</div>
</body>	

<script type="text/javascript">
  function readSingleFile(evt) {
    var f = evt.target.files[0];
	var ext = f.name.substring(f.name.lastIndexOf('.') + 1);
	if (!f) {
        alert("Failed to load file");
    } else if (ext!="java") {
		    alert(f.name + " is not a valid java file.");
    } else  {
      var r = new FileReader();
      r.onload = function(e) { 
	      var contents = e.target.result;
	      document.getElementById("file1.div").innerHTML=contents;
      }
      r.readAsText(f);
    } 
  }
  document.getElementById('fileinput1').addEventListener('change', readSingleFile, true);
</script>

<script type="text/javascript">
  function readSingleFile(evt) {
    var f = evt.target.files[0];
	var ext = f.name.substring(f.name.lastIndexOf('.') + 1);
	if (!f) {
        alert("Failed to load file");
    } else if (ext!="java") {
		    alert(f.name + " is not a valid java file.");
    } else  {
      var r = new FileReader();
      r.onload = function(e) { 
	      var contents = e.target.result;
	      document.getElementById("file2.div").innerHTML=contents;
      }
      r.readAsText(f);
    } 
  }
  document.getElementById('fileinput2').addEventListener('change', readSingleFile, false);
</script>
</html>